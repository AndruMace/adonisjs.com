{"type":"root","children":[{"type":"element","tag":"dimertitle","props":{},"children":[{"type":"text","value":"AdonisJS REPL"}]},{"type":"element","tag":"h1","props":{"id":"adonisjs-repl"},"children":[{"type":"element","tag":"a","props":{"href":"#adonisjs-repl","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"AdonisJS REPL"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"REPL stands for "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"read–eval–print loop"}]},{"type":"text","value":", a way to quickly execute single-line inputs and return the result. Node.js also has its REPL and to give it try, you can open up your terminal, type node, and press enter."}]},{"type":"element","tag":"div","props":{"className":["toc-container"]},"children":[{"type":"element","tag":"h2","props":{},"children":[{"type":"text","value":"Table of contents"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#features"},"children":[{"type":"text","value":"Features"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#usage"},"children":[{"type":"text","value":"Usage"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#helper-methods"},"children":[{"type":"text","value":"Helper methods"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#adding-custom-helpers"},"children":[{"type":"text","value":"Adding custom helpers"}]}]}]}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/video/upload/v1603467681/adonisjs.com/node-repl_s6hsuz.mp4","type":"video/mp4"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Similar to Node.js, AdonisJS has its application-aware REPL that gets started after booting the app, and therefore you have access to everything inside the REPL."}]},{"type":"element","tag":"h2","props":{"id":"features"},"children":[{"type":"element","tag":"a","props":{"href":"#features","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Features"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following features over the standard Node.js REPL are supported."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ability to use the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" keyword anywhere inside the REPL session. Also known as "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"top-level await"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Support for typescript imports."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Transparently compiles the typescript source to Javascript."}]}]},{"type":"element","tag":"h2","props":{"id":"usage"},"children":[{"type":"element","tag":"a","props":{"href":"#usage","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Usage"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Run the following ace command to start the REPL session."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace repl\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's import the Encryption module and try encrypting/decrypting a string value."}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/video/upload/v1604936668/adonisjs.com/adonis-repl_ibios2.mp4","type":"video/mp4"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"helper-methods"},"children":[{"type":"element","tag":"a","props":{"href":"#helper-methods","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Helper methods"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We have observed that writing the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" statements in the REPL requires a bit of typing and therefore we have added a bunch of shortcut methods for importing some of the commonly required modules."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's test the encryption module again, but this time we will use the shortcut method to import the module."}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/video/upload/v1604937463/adonisjs.com/adonis-repl-shortcuts_jcyxay.mp4","type":"video/mp4"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can view all of the helper methods by typing the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":".ls"}]},{"type":"text","value":" command."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"src":"https://res.cloudinary.com/adonis-js/image/upload/v1604938942/adonisjs.com/Screenshot_2020-11-09_at_9.50.06_PM_hekkxu.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just like everything else, the REPL also has an extensible API and as you will install new packages you will see the list of helper methods growing."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For example, The Lucid ORM comes with the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"loadModels"}]},{"type":"text","value":" helper to recursively load models from the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"app/Models"}]},{"type":"text","value":" directory."}]},{"type":"element","tag":"div","props":{"className":["embed","video"]},"children":[{"type":"element","tag":"video","props":{"controls":true},"children":[{"type":"element","tag":"source","props":{"src":"https://res.cloudinary.com/adonis-js/video/upload/v1604939564/adonisjs.com/repl-load-models_ye0rdy.mp4","type":"video/mp4"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"adding-custom-helpers"},"children":[{"type":"element","tag":"a","props":{"href":"#adding-custom-helpers","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Adding custom helpers"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can add your custom helpers by creating a preload file inside the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"start"}]},{"type":"text","value":" directory. Begin by creating a new file by running the following command."}]},{"type":"element","tag":"div","props":{"className":["alert","alert-note"]},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Make sure to select the environment as "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"repl"}]},{"type":"text","value":" by pressing the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<SPACE>"}]},{"type":"text","value":" key and hit enter."}]}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace make:prldfile repl\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next, open the newly created file and paste the following contents inside it."}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"start/repl.ts"}]},{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token keyword\">import</span> Repl <span class=\"token keyword\">from</span> <span class=\"token string\">'@ioc:Adonis/Addons/Repl'</span>\n\nRepl<span class=\"token punctuation\">.</span><span class=\"token function\">addMethod</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">'sayHi'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">(</span>repl<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>repl<span class=\"token punctuation\">.</span>colors<span class=\"token punctuation\">.</span><span class=\"token function\">green</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> description<span class=\"token operator\">:</span> <span class=\"token string\">'A test method that prints \"hi\"'</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span>\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, start the repl session and type "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"sayHi()"}]},{"type":"text","value":" to execute the method. Currently, we are writing to the console, however, you can perform any action inside this function."}]}]}
