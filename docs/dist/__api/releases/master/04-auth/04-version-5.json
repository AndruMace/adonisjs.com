{"type":"root","children":[{"type":"element","tag":"dimertitle","props":{},"children":[{"type":"text","value":"Auth 5.0"}]},{"type":"element","tag":"h1","props":{"id":"auth-50"},"children":[{"type":"element","tag":"a","props":{"href":"#auth-50","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Auth "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"5.0"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The release notes contains an aggregated list of chances made between "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"@adonisjs/auth@4.3"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"@adonisjs/auth@5.0"}]},{"type":"text","value":". You can also check "},{"type":"element","tag":"a","props":{"href":"https://github.com/adonisjs/auth/releases"},"children":[{"type":"text","value":"individual releases"}]},{"type":"text","value":" on Github."}]},{"type":"element","tag":"div","props":{"className":["toc-container"]},"children":[{"type":"element","tag":"h2","props":{},"children":[{"type":"text","value":"Table of contents"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#changes"},"children":[{"type":"text","value":"Changes"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Upgrade using the following command"}]},{"type":"element","tag":"div","props":{"className":["tabs"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-head"]},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{"dataTitle":"tab-1"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"li","props":{"dataTitle":"tab-2"},"children":[{"type":"text","value":"yarn"}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-body"]},"children":[{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-1"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token function\">npm</span> i @adonisjs/auth@alpha\n"}]}]}]}]},{"type":"element","tag":"div","props":{"className":["tab-item"],"id":"tab-2"},"children":[{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"pre","props":{"className":["language-sh","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"<span class=\"token function\">yarn</span> <span class=\"token function\">add</span> @adonisjs/auth@alpha\n"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"changes"},"children":[{"type":"element","tag":"a","props":{"href":"#changes","aria-hidden":true},"children":[{"type":"element","tag":"span","props":{"className":["icon","icon-link"]},"children":[]}]},{"type":"text","value":"Changes"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"improvement"}]},{"type":"text","value":": The model used for authentication can now exist without a password column. However, it is the user responsibility to not call "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"auth.attempt"}]},{"type":"text","value":" to validate the user credentials and instead fetch the user before hand and call "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"auth.login"}]},{"type":"text","value":". "},{"type":"element","tag":"a","props":{"href":"https://github.com/adonisjs/auth/commit/c8820c6ece64dca30f93c7ca4e5460d55995b0d1"},"children":[{"type":"text","value":"c8820c6ec"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"breaking change"}]},{"type":"text","value":": Due to changes in the AdonisJS boot lifecycle. The "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"User"}]},{"type":"text","value":" model import inside the "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"config/auth.ts"}]},{"type":"text","value":" file has to be lazy. Begin by removing top level import statement and move it inline as shown below. "},{"type":"element","tag":"a","props":{"href":"https://github.com/adonisjs/auth/commit/851db569e5f78d9a67418d59720e7159aab9a3b8"},"children":[{"type":"text","value":"851db569"}]}]},{"type":"element","tag":"div","props":{"className":["dimer-highlight"]},"children":[{"type":"element","tag":"span","props":{"className":["filename"]},"children":[{"type":"text","value":"config/auth.ts"}]},{"type":"element","tag":"pre","props":{"className":["language-ts","line-numbers"]},"children":[{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"provider<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  driver<span class=\"token operator\">:</span> <span class=\"token string\">'lucid'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">model</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'App/Models/User'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"improvement"}]},{"type":"text","value":": The User model created after running "},{"type":"element","tag":"code","props":{},"children":[{"type":"text","value":"node ace invoke @adonisjs/auth"}]},{"type":"text","value":" now hides the password from getting serialized. "},{"type":"element","tag":"a","props":{"href":"https://github.com/adonisjs/auth/commit/992f524a9e05953368e5e8c45358522f68ade6c4"},"children":[{"type":"text","value":"992f524a"}]}]}]}]}
