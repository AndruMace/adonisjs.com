---
permalink: tutorials/first-steps/building-blocks
category: First steps
---

# AdonisJS Building Blocks

Now that you have completed the initial setup and able to run the development server, let's take a step further and begin the development of our blog.

Don't get overwhelmed with the number of files and directories generated by `npx create-adonis-ts-app` command. For now, we will just focus on the files and directories we need for this tutorial.


- The `app` directory holds the main source code of your application. The **Controllers** and **Models** will be created inside this directory.
- The `start` directory contains the files that must be loaded only once during the boot process. The file to declare routes is also inside this directory.
- The `resources/views` directory contains the templates for rendering HTML.
- The `public` directory is to store the public assets like **CSS files**, **frontend Javascript** or images.

## Routing

Routing is a way of exposing the URL's of your website to the outer world. For example: If you want your website to have `/contact`, `/about` URL's, you must begin by registering routes for them.

In AdonisJS, the routes are defined inside `start/routes.ts` file. So let's open this file in your text editor and replace it's contents with the following code snippet.

```ts{}{start/routes.ts}
import Route from '@ioc:Adonis/Core/Route'

/**
 * An array of posts. Later we will fetch them from the
 * database.
 */
const posts = [
  {
    id: '1',
    title: 'Adonis 101',
    description: 'Welcome to AdonisJS!',
  },
  {
    id: '2',
    title: 'Deployments 101',
    description: 'Time to deploy your application!',
  },
]

/**
 * Return all posts
 */
Route.get('/', async () => {
  return posts
})

/**
 * Display a single post using it's id
 */
Route.get('/posts/:id', async ({ params, response }) => {
  const matchingPost = posts.find((post) => post.id === params.id)

  // highlight-start
  if (!matchingPost) {
    return response.status(404).send('Post not found')
  }
  // highlight-end

  return matchingPost
})
```

Make sure to start the development server by running `node ace serve --watch` and then visit the following URL's in your browser.

- [http://localhost:3333](http://localhost:3333)
- [http://localhost:3333/posts/1](http://localhost:3333/posts/1)
- [http://localhost:3333/posts/2](http://localhost:3333/posts/2)
- [http://localhost:3333/posts/3](http://localhost:3333/posts/3) *(Returns 404)*

[video url="https://res.cloudinary.com/adonis-js/video/upload/q_100/v1580185571/adonisjs.com/adonisjs-routing_lgmvef.mp4", controls]

### How Routing Works?
The `Route` module of AdonisJS let you define routes for different [HTTP methods](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods). For example: The `Route.get` method will only respond to the `GET` requests, the `Route.post` method will only respond to the `POST` requests and so on.

The route method accepts a total of two arguments. ie:

- **The route pattern** is the URL with option to accept dynamic values using route parameters. For example: The `/posts/:id` pattern accepts a dynamic id. The route parameters always starts with a `colon (:)`.
- **The handler function** can be an inline closure (as shown in the above example) or reference to a controller method. You will learn about the controllers later in this tutorial.

## Controllers
Writing inline route handlers is fine for quickly testing some code. However, as the number of routes will grow, it will become cumbersome to put all the code inside a single file and this is where controllers shines.

Controllers are vanilla [ES6 classes](https://exploringjs.com/es6/ch_classes.html) stored inside the `app/Controllers/Http` folder. Let's begin by creating a new controller of our blog.

Open the terminal and run the following ace command inside it.

```sh
node ace make:controller Posts
âœ”  create    app/Controllers/Http/PostsController.ts
```

Open the newly created file inside your text editor and replace it's content with the following code snippet.

```ts
import { HttpContextContract } from '@ioc:Adonis/Core/HttpContext'

export default class PostsController {
  /**
   * An array of posts. Later we will fetch them from the
   * database.
   */
  private posts = [
    {
      id: '1',
      title: 'Adonis 101',
      description: 'Welcome to AdonisJS!',
    },
    {
      id: '2',
      title: 'Deployments 101',
      description: 'Time to deploy your application!',
    },
  ]

  /**
   * Return all posts
   */
  public async index () {
    return this.posts
  }

  /**
   * Display a single post using it's id
   */
  public async show ({ params, response }: HttpContextContract) {
    const matchingPost = this.posts.find((post) => post.id === params.id)

    // highlight-start
    if (!matchingPost) {
      return response.status(404).send('Post not found')
    }
    // highlight-end

    return matchingPost
  }
}
```

## Views

## Public files & Resources
